@using ExpressBase.Objects.ServiceStack_Artifacts
@using ExpressBase.Common
@using Microsoft.AspNetCore.Mvc;
@using ExpressBase.Common.Structures;
@using Newtonsoft.Json;
@using ExpressBase.Common.Application;
@{
    Layout = "~/Views/Shared/LayoutInner.cshtml";
    string domurl = string.Empty;
    if (ViewBag.Env == "Development")
    {
        domurl = "http://localhost:41500";
    }
    if (ViewBag.Env == "Staging")
    {
        domurl = "https://eb-test.cloud";
    }
    if (ViewBag.Env == "Production")
    {
        domurl = "https://expressbase.com";
    }
}

@section StyleSheet{
    <style>
        .demodpdiv {
            width: 75px;
            height: 75px;
            cursor: pointer;
            display: inline-block;
        }

            .demodpdiv:hover {
                box-shadow: 1px 1px 2px 2px #ccc;
            }
    </style>
    <link rel="stylesheet" href="~/css/EbCommonStyles/AppDashBoardStyles.css" asp-append-version="true">
}

@section JavaScript{
    <script src="~/js/EbDashBoards/AppDashBoard.js" type="text/javascript"></script>
}
<script>
    new EbHeader().setName("Application Configuration");
</script>
<div class="row s-dash-container h-100">
    @{
        Dictionary<int, TypeWrap> list = ViewBag.ObjectCollection;
        var appinfo = ViewBag.AppInfo;
        var apptype = (EbApplicationTypes)appinfo.AppType;
        string typeIcon = null;

        if (appinfo.AppType == 1) { typeIcon = "/images/svg/grid-world.svg"; }

        else if (appinfo.AppType == 2) { typeIcon = "/images/svg/smartphone-call.svg"; }

        else if (appinfo.AppType == 3) { typeIcon = "/images/svg/chat1.svg"; }
    }
    <div class="s-dash-workplace tenant_workpane">
        <div class="col-md-12 col-lg-12 s-dash-solution-desc border-style-none">
            <div class="col-md-10 col-xs-12 pd-0">
                <h4 class="mr-t-0"><span class="fa @appinfo.Icon appicon_style"></span> @appinfo.Name </h4>
                <p class="small">@appinfo.Description</p>
                <p class="small mr-b-0"><img class="apptype_icon" src="@typeIcon" /><span>@apptype</span> Application</p>
            </div>
            <div class="col-md-2 col-lg-2 col-xs-12 pd-0 s-dash-btnwraper">
                @{
                    if (ViewBag.ObjectsCount <= 0)
                    {
                        <a href="@Url.Action("DeleteApplication", "Dev",new { Id = appinfo.Id })" class="ebbtn eb_btn-sm" style="background: #e65f66;color: white;margin-left: 10px;">
                            <i class="fa fa-trash" style="margin-right:5px"></i> Delete
                        </a>
                    }
                }
                <a href='@Url.Action("CreateApplication", "Dev",new { Id = appinfo.Id,Type = appinfo.AppType})' class="ebbtn eb_btn-sm eb_btnblue">
                    <i class="fa fa-edit" style="margin-right:5px"></i> Edit Application
                </a>
            </div>
        </div>
        <div class="col-md-12 pd-0 s-dash-workplace-tabs">
            <ul class="nav nav-tabs eb-styledTab" role="tablist">
                <li class="nav-item active">
                    <a class="nav-link" data-toggle="tab" href="#Objects" role="tab">
                        <i class="fa fa-list"></i> Objects
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#Appearance" role="tab">
                        <i class="fa fa-picture-o"></i> Appearance
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#home" role="tab">
                        <i class="fa fa-cog"></i> Settings
                    </a>
                </li>
            </ul>
            <div class="tab-content">
                <div class="tab-pane active appdash_obj_container" id="Objects" role="tabpanel">
                    <div class="raw">
                        <button type="button" class="ebbtn eb_btn-sm eb_btngreen" data-toggle="modal" data-target="#newObjectmdl">
                            New Object
                        </button>
                        <button class="ebbtn eb_btn-sm eb_btnplain" style="margin-right:10px" id="ExportBtn">Export</button>
                        <div class="input-group eb-search-box" style="margin-right: 10px;">
                            <span class="input-group-addon"><i class="fa fa-search"></i></span>
                            <input type="text" id="obj_search_input" class="form-control" placeholder="Search object">
                        </div>
                    </div>
                    @*<div class="not-found text-center" style="margin-top: 150px;">No Objects...</div>*@
                    <div class="raw-obj-container">
                        <div class="col-md-2 col-lg-2 col-xs-6 col-sm-4 pd-0 sidebar-objtypes">
                            <ul style="list-style:none;" class="pd-0">
                                <li class="sidebar-objtypes-listitem">
                                    <a class="raw-obj-type" id="ebobject_type_all" link-id="ebobject_type_wrapper_all">
                                        <span class="fa fa-list raw-obj-type-icon"></span>
                                        <span class="name">All (@ViewBag.ObjectsCount)</span>
                                    </a>
                                </li>
                                @{
                                    int _k = (list.Keys.Count > 0) ? list.Keys.First() : 0;

                                    foreach (EbObjectType objectType in EbObjectTypes.Enumerator)
                                    {
                                        string active = (_k == objectType.IntCode) ? "active_type" : "";
                                        int o_c = list.ContainsKey(objectType.IntCode) ? list[objectType.IntCode].Objects.Count : 0;

                                        <li class="sidebar-objtypes-listitem @active">
                                            <a class="raw-obj-type" id="ebobject_type_@objectType.IntCode" link-id="ebobject_type_wrapper_@objectType.IntCode">
                                                <span class="fa @objectType.Icon raw-obj-type-icon"></span>
                                                <span class="name">@(objectType.Alias + "s") (@o_c)</span>
                                            </a>
                                        </li>
                                    }
                                }
                            </ul>
                        </div>
                        <div class="col-md-10 col-lg-10 col-xs-6 col-sm-8 pd-r-0 raw-object-pane">
                            @{
                                foreach (KeyValuePair<int, TypeWrap> kp in list)
                                {
                                    <div class="raw-objectTypeWrprBlk" id="ebobject_type_wrapper_@kp.Key">
                                        <div class="raw-objectTypeWrpr">
                                            @{
                                                foreach (ObjWrap ob in kp.Value.Objects)
                                                {
                                                    <div class="objitems obj_linkthumb">
                                                        <a class="object_container obj_link" href='../Eb_Object/Index?objid=@ob.Id&objtype=@ob.EbObjectType'>
                                                            <div class='col-md-11 col-lg-11 col-sm-11 pd-0'>
                                                                <h4 class='head4'>@ob.DisplayName</h4>
                                                                <p class='text-justify'>@(string.IsNullOrEmpty(ob.Description) ? "no description" : ob.Description)</p>
                                                                <div class="label_container">
                                                                    <span class="label">@ob.EbType</span>
                                                                </div>
                                                            </div>
                                                            <input type="checkbox" objid="@ob.Id" name="ExportMark" class="ExportMark" />
                                                        </a>
                                                    </div>
                                                }
                                            }
                                        </div>
                                    </div>
                                }

                                <div class="raw-objectTypeWrprBlk" id="ebobject_type_wrapper_all">
                                    <div class="raw-objectTypeWrpr">
                                        @foreach (KeyValuePair<int, TypeWrap> kpall in list)
                                        {
                                            foreach (ObjWrap oball in kpall.Value.Objects)
                                            {
                                                <div class="objitems obj_linkthumb">
                                                    <a class="object_container obj_link" href='../Eb_Object/Index?objid=@oball.Id&objtype=@oball.EbObjectType'>
                                                        <div class='col-md-11 col-lg-11 col-sm-11 pd-0'>
                                                            <h4 class='head4'>@oball.DisplayName</h4>
                                                            <p class='text-justify'>@(string.IsNullOrEmpty(oball.Description) ? "no description" : oball.Description)</p>
                                                            <div class="label_container">
                                                                <span class="label">@oball.EbType</span>
                                                            </div>
                                                        </div>
                                                        <input type="checkbox" objid="@oball.Id" name="ExportMark" class="ExportMark" />
                                                    </a>
                                                </div>
                                            }
                                        }
                                    </div>
                                </div>

                                if (list.Keys.Count <= 0)
                                {
                                    <div class="empty-objects">Objects list empty.</div>
                                }
                            }
                        </div>
                    </div>
                </div>
                <div class="tab-pane" id="Appearance" role="tabpanel">
                    @if (appinfo.AppType == 3)
                    {
                        EbBotSettings settings = ViewBag.AppSettings;
                        var bot_name_txt = appinfo.Name;
                        var bot_wc_msg = "";
                        var bot_tm_color = "";
                        var bot_dp_url = "";

                        @if (appinfo.AppSettings != null)
                        {
                            bot_name_txt = settings.Name;
                            bot_wc_msg = settings.WelcomeMessage;
                            bot_tm_color = settings.ThemeColor;
                            bot_dp_url = settings.DpUrl;


                        }
                        <div class="btnarea">
                            <button class="ebbtn eb_btn-sm eb_btngreen " id="updateBotAppearance">Update</button>
                        </div>
                        <div class=" botappDashboard col-md-12 col-lg-12 col-xs-12 col-sm-12">
                            <ul class="nav nav-tabs " id="botsteeings" role="tablist">
                                <li class="nav-item active">
                                    <a class="nav-link active" id="botconfig-tab" data-toggle="tab" href="#themeconfig" role="tab" aria-controls="botconfig" aria-selected="true">Theme</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="botcss-tab" data-toggle="tab" href="#botcss" role="tab" aria-controls="botcss" aria-selected="false">Css</a>
                                </li>
                            </ul>

                            <div class="tab-content">
                                <div class="tab-pane active" id="themeconfig" role="tabpanel" aria-labelledby="">
                                    <div class="  col-md-6 col-lg-6  col-sm-12 botappConfig">


                                        <div class="col-sm-12 col-md-12 col-lg-12 botSetng">
                                            <label>DP Url:</label>

                                            <div class="input-group">
                                                <input type="text" class="form-control " id="bot_dp_url" value="@bot_dp_url">
                                                <div class="input-group-btn">
                                                    <button id="btnSelectDpClipart" class="btn btn-info" title="Select from Clipart" onclick="$('#AppDB_BotDemoDp').modal('show');">Select</button>
                                                </div>
                                            </div>

                                        </div>
                                        <div class="col-sm-3 col-md-2 col-lg-2 botSetng">
                                            <label>Theme Colour:</label>
                                            <input type="color" class="form-control botclr " id="bot_tm_color" value="@bot_tm_color">
                                        </div>

                                        <div id="AppDB_BotDemoDp" class="modal fade" role="dialog">
                                            <div class="modal-dialog" style="width:445px">
                                                <div class="modal-content">
                                                    <div class="modal-header" style="">
                                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                        <div>
                                                            <div style="margin-left:10px ; display:inline-block"> <h4 class="modal-title">Bot DP Clip Art</h4> </div>
                                                        </div>
                                                    </div>
                                                    <div class="modal-body" style="height:185px">
                                                        <div class="demodpdiv" style=" background:url('../images/demobotdp1.png')center center no-repeat" onclick="clickOnDemoDp('../images/demobotdp1.png')"></div>
                                                        <div class="demodpdiv" style=" background:url('../images/demobotdp2.png')center center no-repeat" onclick="clickOnDemoDp('../images/demobotdp2.png')"></div>
                                                        <div class="demodpdiv" style=" background:url('../images/demobotdp3.png')center center no-repeat" onclick="clickOnDemoDp('../images/demobotdp3.png')"></div>
                                                        <div class="demodpdiv" style=" background:url('../images/demobotdp4.png')center center no-repeat" onclick="clickOnDemoDp('../images/demobotdp4.png')"></div>
                                                        <div class="demodpdiv" style=" background:url('../images/demobotdp5.png')center center no-repeat" onclick="clickOnDemoDp('../images/demobotdp5.png')"></div>
                                                        <div class="demodpdiv" style=" background:url('../images/demobotdp6.png')center center no-repeat" onclick="clickOnDemoDp('../images/demobotdp6.png')"></div>
                                                    </div>
                                                    <div class="modal-footer" style="">
                                                        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                </div>

                                <div class="tab-pane botcssConfig" id="botcss" role="tabpanel" aria-labelledby="">
                                    <div class="col-md-2 col-lg-2 col-sm-3 cssconfig">
                                        <ul class="nav nav-tabs tabs-left" id="cssconfigUl" role="tablist">
                                            <li class="nav-item active">
                                                <a class="nav-link active" id="bot_header_li" data-toggle="tab" href="#BOT_HEADER" role="tab" aria-controls="bot_header" aria-selected="true">Bot header</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" id="botAppName_li" data-toggle="tab" href="#BOT_APP_NAME" role="tab" aria-controls="botAppName" aria-selected="false">Header text</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" id="botIframeCss_li" data-toggle="tab" href="#BOT_IFRAME_CSS" role="tab" aria-controls="botIframeCss" aria-selected="false">Iframe Container</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" id="botChatBtn_li" data-toggle="tab" href="#BOT_CHAT_BUTTON" role="tab" aria-controls="botChatBtn" aria-selected="false">Chat head Container</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" id="botImgCont_li" data-toggle="tab" href="#BOT_IMAGE_CONT" role="tab" aria-controls="botImgCont" aria-selected="false">Chat head Image Container</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" id="botBtnImg_li" data-toggle="tab" href="#BOT_BUTTON_IMAGE" role="tab" aria-controls="botBtnImg" aria-selected="false">Chat head Image</a>
                                            </li>
                                        </ul>
                                    </div>

                                    <div class="col-md-10 col-lg-10 col-sm-9 configcss">
                                        <div class="tab-content" id="configcssTabContent">
                                            <div class="tab-pane   active" id="BOT_HEADER" role="tabpanel" aria-labelledby="">

                                            </div>
                                            <div class="tab-pane " id="BOT_APP_NAME" role="tabpanel" aria-labelledby="">

                                            </div>
                                            <div class="tab-pane " id="BOT_IFRAME_CSS" role="tabpanel" aria-labelledby="">

                                            </div>
                                            <div class="tab-pane " id="BOT_CHAT_BUTTON" role="tabpanel" aria-labelledby="">

                                            </div>
                                            <div class="tab-pane " id="BOT_IMAGE_CONT" role="tabpanel" aria-labelledby="">

                                            </div>
                                            <div class="tab-pane " id="BOT_BUTTON_IMAGE" role="tabpanel" aria-labelledby="">

                                            </div>
                                        </div>

                                    </div>
                                </div>

                            </div>
                        </div>

                    }
                </div>
                <div class="tab-pane" id="home" role="tabpanel">



                    @if (appinfo.AppType == 3)
                    {
                        EbBotSettings settings = ViewBag.AppSettings;
                        var bot_name_txt = appinfo.Name;
                        var bot_wc_msg = "";
                        var bot_tm_color = "";
                        var bot_dp_url = "";

                        @if (appinfo.AppSettings != null)
                        {
                            bot_name_txt = settings.Name;
                            bot_wc_msg = settings.WelcomeMessage;
                            bot_tm_color = settings.ThemeColor;
                            bot_dp_url = settings.DpUrl;


                        }
                        <div class="btnarea">
                            <button class="ebbtn eb_btn-sm eb_btngreen " id="updateBotSettings">Update</button>
                        </div>
                        <div class=" botappDashboard col-md-12 col-lg-12 col-xs-12 col-sm-12">
                            <ul class="nav nav-tabs " id="botConfigSettings" role="tablist">
                                <li class="nav-item active">
                                    <a class="nav-link active" id="botconfig-tab" data-toggle="tab" href="#botconfig" role="tab" aria-controls="botconfig" aria-selected="true">Bot Configuration</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="botuserauth-tab" data-toggle="tab" href="#botuserauth" role="tab" aria-controls="botuserauth" aria-selected="false">User Authentication</a>
                                </li>
                            </ul>

                            <div class="tab-content">
                                <div class="tab-pane active" id="botconfig" role="tabpanel" aria-labelledby="">
                                    <div class="  col-md-6 col-lg-6  col-sm-12 botappConfig">
                                        <div class="col-sm-12 col-md-12 col-lg-12 botSetng">
                                            <label>Bot Name: </label>
                                            <div>
                                                <input class="form-control " type="text" id="bot_name_txt" value="@bot_name_txt">
                                            </div>
                                        </div>
                                        <div class="col-sm-12 col-md-12 col-lg-12 botSetng">
                                            <label>Welcome Message: </label>
                                            <textarea class="form-control bot_wcmsg" rows="2" id="bot_wc_msg">@bot_wc_msg</textarea>
                                        </div>
                                        <div class="col-sm-12 col-md-12 col-lg-12 botSetng">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" value="1" id="useEbtag">
                                                <label class="form-check-label" for="useEbtag">
                                                    Use Expressbase Tagline
                                                </label>
                                            </div>
                                        </div>

                                    </div>

                                    <div class="col-sm-6 col-md-6 col-lg-6 ">
                                        <div class="copyscript">
                                            <button class="btn btn-info btn-sm" onclick="$('#txtemdscript').select(); document.execCommand('copy');"><i style="padding-right:3px" class="fa fa-clipboard"></i> Copy</button>
                                        </div>

                                        <textarea id="txtemdscript" class="srptarea" readonly>
                                        <script type="text/javascript">
                                            (function () {
                                                d = document;
                                                s = d.createElement("script");
                                                s.src = "@domurl/Bote/Js?id=@ViewBag.cide-@appinfo.Id&mode=s";
                                                s.async = 1;
                                                d.getElementsByTagName("head")[0].appendChild(s);
                                            })();
                                        </script>
                                    </textarea>

                                    </div>
                                </div>
                                <div class="tab-pane botUserAuth" id="botuserauth" role="tabpanel" aria-labelledby="">
                                    <div class="col-md-2 col-lg-2 col-sm-3 userAuthConfig">
                                        <ul class="nav nav-tabs tabs-left" id="userAuthconfigUl" role="tablist">
                                            <li class="nav-item active">
                                                <a class="nav-link active" id="anonymousLogin_li" data-toggle="tab" href="#anonymousLogin" role="tab" aria-controls="botconfig" aria-selected="true">Anonymous Authentication</a>
                                            </li>                                         
                                        </ul>
                                    </div>

                                    <div class="col-md-10 col-lg-10 col-sm-9 configUserAuth">
                                        <div class="tab-content" id="userAuthTabContent">
                                            <div class="tab-pane   active" id="anonymousLogin" role="tabpanel" aria-labelledby="">                                                
                                                <div class="selauth">
                                                    <label>Authentication methods</label>
                                                    <div class="form-check">
                                                        <label>
                                                            <input class="form-check-input" name="authtype" type="checkbox" value="1" id="email_anony">
                                                            Email
                                                        </label>
                                                    </div>

                                                    <div class="form-check">
                                                        <label>
                                                            <input class="form-check-input" name="authtype" type="checkbox" value="1" id="phone_anony">
                                                            Phone
                                                        </label>
                                                    </div>
                                                    <div class="form-check">
                                                        <label>
                                                            <input class="form-check-input" name="authtype" type="checkbox" value="1" id="fb_anony">
                                                            Facebook
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="selauth">
                                                    <label>Additional optional</label>
                                                    
                                                    <div class="form-check">
                                                        <label>
                                                            <input class="form-check-input" type="checkbox" value="1" id="name_anony">
                                                            Ask for name
                                                        </label>
                                                    </div>
                                                </div>
                                                
                                            </div>
                                            
                                        </div>

                                    </div>
                                </div>

                            </div>
                        </div>

                    }






                    else if (appinfo.AppType == 2)
                    {
                        EbMobileSettings MobSettings = (ViewBag.AppSettings as EbMobileSettings);

                        <div class="appdash_typedmob_readerWraper">
                            <div class="appdash_readerinner">
                                <div class="body" id="reader_body" style="display:flex;flex-flow:column;">
                                    <table style="width:100%;margin-top:10px;" class="import_reftable">
                                        <thead>
                                            <tr>
                                                <th>Table Name</th>
                                                <th>Refid</th>
                                                <th style="width:50px;">
                                                    <button class="ebbtn eb_btn-sm" id="add_readers" data-target="#import_data_mdl" data-toggle="modal" style="margin-left:auto;background:#d6d4d4">Add</button>
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody id="import_reftable_body">
                                            @{
                                                if (MobSettings.DataImport.Count > 0)
                                                {
                                                    foreach (DataImportMobile di in MobSettings.DataImport)
                                                    {
                                                        <tr>
                                                            <td><input type="text" class="import_reftable_input" value="@di.TableName" name="@(di.RefId + "_input")" /></td>
                                                            <td>@di.RefId</td>
                                                            <td class="text-center"><button class="rm_refbtn" ref="@di.RefId"><i class="fa fa-close"></i></button></td>
                                                        </tr>
                                                    }
                                                }
                                                else
                                                {
                                                    <tr class="empty_tr">
                                                        <td colspan="3" style="text-align:center">empty</td>
                                                    </tr>
                                                }
                                            }
                                        </tbody>
                                    </table>
                                    <button class="ebbtn eb_btn-sm eb_btnblue" id="save_importref" style="margin-left:auto;"><i class="fa fa-floppy-o" style="margin-right:5px;"></i> Save</button>
                                </div>
                            </div>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
    <div id="newObjectmdl" class="modal fade newObjectmdl" role="dialog">
        <div class="modal-dialog h-100 w-100" style="margin:0;display: flex;justify-content: center;align-items: center;">
            <div class="modal-content" style="width:90%;height:90%;display: flex;flex-direction: column;">
                <div class="modal-header" style="border-style:none">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Create new Object</h4>
                </div>
                <div class="modal-body" style="flex:1;overflow-y:auto;">
                    <div class="eb-newobj-mdlbdy">
                        @{
                            foreach (EbObjectType objectType in EbObjectTypes.Enumerator)
                            {
                                List<int> cs = new List<int> { 18, 23, 24, 22, 7, 25 };
                                if (objectType.IsAvailableIn((EbApplicationTypes)appinfo.AppType))
                                {
                                    string url = string.Empty, _class = string.Empty;
                                    if (cs.Contains(objectType.IntCode))
                                    {
                                        url = "#";
                                        _class = "eb-newobj-comingsoon";
                                    }
                                    else
                                    {
                                        url = "../Eb_Object/Index?objid=null&objtype=" + objectType.IntCode;
                                    }
                                    <div class="eb-newobjtile">
                                        <a class="eb-newobjtile-inner @_class" href="@url">
                                            <div class="icon">
                                                <span class="fa @objectType.Icon"></span>
                                            </div>
                                            <div class="name">@objectType.Alias</div>
                                        </a>
                                    </div>
                                }
                            }
                        }
                    </div>
                </div>
                <div class="modal-footer" style="border-style:none">
                    <button type="button" class="btn eb_btnblue" data-dismiss="modal">Close</button>
                </div>
            </div>

        </div>
    </div>

    <div id="import_data_mdl" class="modal fade import_data_mdl" role="dialog">
        <div class="modal-dialog h-100 w-100" style="margin:0;display: flex;justify-content: center;align-items: center;">
            <div class="modal-content" style="width:50%;height:70%;display: flex;flex-direction: column;">
                <div class="modal-header" style="border-style:none">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Import Data</h4>
                </div>
                <div class="modal-body" style="flex:1;overflow-y:auto;">
                    @{
                        if (appinfo.AppType == 2)
                        {
                            List<int> cs = new List<int> { 2, 20 };
                            <div class="import_data_mdl_mdlbdy">
                                <div class="import_data_cols">
                                    <label>Object Types</label>
                                    <div class="import_data_cols_inner">
                                        <div class="import_obj_link" exp-target="#import_expand_20">
                                            Api
                                        </div>
                                        <div class="import_obj_link" exp-target="#import_expand_2">
                                            DataReaders
                                        </div>
                                    </div>
                                </div>
                                <div class="import_data_cols import_data_objects">
                                    <label>Objects</label>
                                    <div class="import_data_cols_inner">
                                        @{
                                            foreach (KeyValuePair<int, TypeWrap> kvp in list)
                                            {
                                                if (cs.Contains(kvp.Key))
                                                {
                                                    <div class="import_obj_expand" id="import_expand_@kvp.Key">
                                                        @if (!kvp.Value.Objects.Any())
                                                        {
                                                            <div class="empty_list">empty</div>
                                                        }

                                                        @foreach (ObjWrap oball in kvp.Value.Objects)
                                                        {
                                                            if (oball.IsCommitted)
                                                            {
                                                                <div class="import_obj_expand_objlinks">
                                                                    <input type="checkbox" name="importcheckbox" refid="@oball.Refid" />
                                                                    <div class="">
                                                                        @oball.DisplayName
                                                                    </div>
                                                                </div>
                                                            }
                                                        }
                                                    </div>
                                                }
                                            }
                                        }
                                    </div>
                                </div>
                            </div>
                        }
                    }
                </div>
                <div class="modal-footer" style="border-style:none">
                    <button type="button" class="btn eb_btnblue" id="import_refsave">Add</button>
                </div>
            </div>
        </div>
    </div>
</div>
@section JsCode{
    <script>
    let appsetting = @Html.Raw(JsonConvert.SerializeObject(ViewBag.AppSettings));
    var adash = new AppDashBoard(@appinfo.Id,@appinfo.AppType, appsetting);

    function clickOnDemoDp(path) {
        $('#AppDB_BotDemoDp').modal('hide');
        $('#bot_dp_url').val(path);
    }
    </script>
}
