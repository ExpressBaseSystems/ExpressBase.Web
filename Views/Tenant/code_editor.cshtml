<html lang="en">
<head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="~/lib/codemirror/lib/codemirror.css">
    <link rel="stylesheet" href="~/lib/codemirror/addon/hint/show-hint.css">
    <link rel="stylesheet" href="~/lib/codemirror/addon/fold/foldgutter.css" />
    <script src="~/lib/codemirror/lib/codemirror.js"></script>
    <script src="~/lib/codemirror/addon/hint/show-hint.js"></script>
    <script src="~/lib/codemirror/addon/hint/sql-hint.js"></script>
    <script src="~/lib/codemirror/mode/sql/sql.js"></script>
    <script src="~/lib/codemirror/addon/fold/foldcode.js"></script>
    <script src="~/lib/codemirror/addon/fold/foldgutter.js"></script>
    <script src="~/lib/codemirror/addon/fold/brace-fold.js"></script>
    <script src="~/lib/codemirror/addon/fold/xml-fold.js"></script>
    <script src="~/lib/codemirror/addon/fold/comment-fold.js"></script>
    <script src="~/lib/codemirror/mode/xml/xml.js"></script>
    <script>
       $(document).ready(function () {
            CodeMirror.commands.autocomplete = function (cm) {
                CodeMirror.showHint(cm, CodeMirror.hint.sql);
            };
            window.editor = CodeMirror.fromTextArea(code, {
                mode: "text/x-sql",
                lineNumbers: true,
                lineWrapping: true,
                extraKeys: { "Ctrl-Space": "autocomplete" },
                foldGutter: {
                    rangeFinder: new CodeMirror.fold.combine(CodeMirror.fold.brace, CodeMirror.fold.comment)
                },
                gutters: ["CodeMirror-linenumbers", "CodeMirror-foldgutter"]
            });
            var cid = sessionStorage.getItem("cid");
            $('#cid').val(cid);
       });

    </script>
    <title>CodeMirror Example : Autocomplete and Code folding</title>
</head>
<body>

  @using (Html.BeginForm(FormMethod.Post, new { enctype = "multipart/form-data", id = "code_edit" }))
  {
        <textarea id="code" name="code"> enter code</textarea>
        <p>Hit Ctrl+Space to trigger autocomplete</p>
        <input type="hidden" id="cid" name="cid" />
        <button class="btn btn-lg btn-primary" type="submit"><i class="fa fa-sign-in fa-fw"></i>Save</button>
  }


</body>

</html>
