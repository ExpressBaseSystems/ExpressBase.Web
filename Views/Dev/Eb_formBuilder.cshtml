@using ExpressBase.Objects;
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/css/bootstrap-select.min.css">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/dragula/3.7.2/dragula.min.css" />
@*<link rel="stylesheet" type="text/css" href="https://cdn.rawgit.com/ValYouW/jqPropertyGrid/9218bbd5df05bf7efe58591f434ea27ece11a045/jqPropertyGrid.css">*@
<link rel="stylesheet" type="text/css" href="~/css/FormBuiderStyles.css" />
<link rel="stylesheet" type="text/css" href="~/css/Eb.css" />
@*<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/spectrum/1.8.0/spectrum.min.css">*@

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/js/bootstrap-select.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.2/js/i18n/defaults-*.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script src='~/js/Eb_dragula.js'></script>
<script src='~/js/Eb_formBuilder.js'></script>
<script src='~/js/jqPropertyGrid.js'></script>
<script src='~/js/Eb_PropertyGrid.js'></script>

@{ 
    //Layout = "~/Views/Shared/_Layout1.cshtml";
}

<div class='eb-loaderFixed'><i class='fa fa-spinner fa-pulse fa-4x fa-fw center-block'></i></div>

<div id="con" class="form-buider-cont">
    <div id="toolbox_cont" class='formB-box toolbox-cont'>
        <div class="pgHead">Toolbox  <i class="fa fa-wrench" aria-hidden="true"></i> </div>
        <div id="form-buider-toolBox" class="form-buider-toolBox">

            @Html.Raw(new EbToolbox(BuilderType.WebFormBuilder).html)

        </div>
    </div>
    <div class="form-save-wraper">

        <div class="formB-box fb-cont">
            <input type="text" id="save_txtBox" required class="form-control" style="width:90%;display:inline-block;" placeholder="Save As...">
            <button id="saveformBtn" type="submit" class="btn btn-default">Save</button>
        </div>

        <div id="form-buider-form" class="formB-box form-buider-form">
            @*<textarea id="txtValues" rows="15" cols="40"></textarea>*@
        </div>
    </div>

    @{
        int typeInt = (string.IsNullOrEmpty(ViewBag.Objtype)) ? Convert.ToInt32(Context.Request.Query["objtype"]) : Convert.ToInt32(ViewBag.Objtype);
        EbObjectType type = (EbObjectType)typeInt;
    }
    <input type="hidden" id="objtype" value="@type" />

    <div id='form-buider-propGrid' class='formB-box property-grid-cont'>
        <div class="pgHead">Properties<i class="fa fa-times" style="float:right; cursor:default;" onclick="$(this).parent().parent().css('visibility', 'hidden')" aria-hidden="true"></i><i class="fa fa-thumb-tack" onclick="$(this).parent().parent().slideToggle(250);" style="float:right; margin-top: 1px; cursor:default; margin-right: 5px;" aria-hidden="true"></i></div>
        <div class="controls-dd-cont">
            <select class="selectpicker" data-live-search="true"> </select>
        </div>
        <div id='propGrid' class="propgrid-table-cont"></div>
    </div>


</div>
<script>
    @{
        var enu = (BuilderType)Enum.Parse(typeof(BuilderType), type+"Builder", true);
    }
    @Html.Raw(new EbToolbox(enu).AllControlls);
    @Html.Raw(new EbToolbox(enu).AllMetas);
    var t = new formBuilder("form-buider-toolBox", "form-buider-form", "form-buider-propGrid");
    //$("#form-buider-propGrid").draggable();
    //$("#form-buider-propGrid").resizable();
</script>
<style>
    /*overridding*/

    .property-grid-cont .bootstrap-select:not([class*=col-]):not([class*=form-control]):not(.input-group-btn) {
        width: 100%;
    }

    .property-grid-cont .sp-preview {
        width: calc(100% - 15px) !important;
        height: 15px;
    }

    .property-grid-cont .sp-replacer {
        width: 100% !important;
        padding: 2px;
    }

    .property-grid-cont .pgGroupCell {
        padding: 2px !important;
        font-weight: normal !important;
    }

    .property-grid-cont .btn:first-child {
        margin-left: 0 !important;
        border-radius: 0px !important;
    }

    .form-buider-form .btn {
        padding: 3px 12px !important;
        width: 100%;
    }

    .form-buider-form table td {
        border: 1px dashed #cccccc;
        padding: 1px;
        vertical-align: initial;
    }

    .moveBtn {
        font-size: 10px;
        vertical-align: top;
        margin-left: 6px;
        margin-top: 3px;
        opacity: .9;
    }

        .moveBtn:hover, .moveBtn:focus {
            color: #fff !important;
            background-color: black;
            opacity: 1;
        }

    .close {
        margin-top: -1px;
        height: 17px;
    }

        .close:hover, .close:focus {
            color: #f00 !important;
            opacity: .6 !important;
        }
</style>
