@using ExpressBase.Common.Objects;
@using ExpressBase.Objects;
@using ExpressBase.Common.Structures;
@{
    @using Newtonsoft.Json;
    var obj = JsonConvert.SerializeObject(ViewBag.Object);
}
<div class="side-menu-container">
    <ul class="outer menuwrapper_ul_outer">
        <li>
            <a href="#" class="list-group-item menuApp outer_li">
                Application
            </a>
        </li>
        <li>
            <a href="#" class="list-group-item collapsed outer_li" data-toggle="collapse" data-target="#dropdown2">
               Objects<i class="fa fa-chevron-right pull-right"></i>
            </a>
            <ul class="sub-menuObj collapse" id="dropdown2">
                @{  foreach (var Op in EbObjectTypes.Enumerator)
                    {
                        var intop = (int)Op;
                        <li><a class="list-group-item inner_li Obj_link" data-key=@intop>@Op</a></li>

                    }

                }

            </ul>
        </li>
        <li>
            <a href="#" class="list-group-item menuApp outer_li" data-toggle="collapse" data-target="#security">
                Security<i class="fa fa-chevron-right pull-right"></i>
            </a>
            <ul class="sub-menuObj collapse" id="security">              
                 <li><a class="list-group-item inner_li" onclick="LoadCommonList('user')" href="CommonList?type='user'">Users</a></li>
                <li><a class="list-group-item inner_li" onclick="LoadCommonList('usergroup')" href="CommonList?type='usergroup'">User Groups</a></li>
                <li><a class="list-group-item inner_li" onclick="LoadCommonList('roles')" href="CommonList?type='roles'">Roles</a></li>
            </ul>
        </li>
        <li>
            <a href="#" class="list-group-item menuApp outer_li">
                Email Console
            </a>
            <ul class="sub-menuObj collapse" id="dropdown2">
                <li><a class="list-group-item inner_li"></a></li>
            </ul>
        </li>
        <li>
            <a href="#" class="list-group-item menuApp outer_li">
                SMS Console
            </a>
            <ul class="sub-menuObj collapse" id="dropdown2">
                <li><a class="list-group-item inner_li"></a></li>
            </ul>
        </li>
        <li>
            <a href="#" class="list-group-item menuApp outer_li">
                Document Console
            </a>
            <ul class="sub-menuObj collapse" id="dropdown2">
                <li><a class="list-group-item inner_li"></a></li>
            </ul>
        </li>
    </ul>
</div>
<script>

    menu.resultObj = @Html.Raw(obj);
    //var chatBotObj = new Eb_chatBot();

    function LoadCommonList(type) {
        event.preventDefault();
        var _container = $("#layout_div");
        $.LoadingOverlay("show");
        $.ajax({
            url: "../TenantUser/CommonList",
            type: "GET",
            cache: false,
            data: { "type": type },
            success: function (result) {
                _container.html(result);
                $.LoadingOverlay("hide");
                $("#ObjModal").modal('hide');
                //$('#EbsideBar').animate({ width: 'toggle' });
            }
        });
    }
</script>

