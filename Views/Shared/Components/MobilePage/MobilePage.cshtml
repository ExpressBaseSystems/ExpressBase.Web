@{
    var bApnd = true;
    if (ViewBag.Env == "Development")
    {
        bApnd = false;
    }
}
<script>
    @Html.Raw(ViewBag.Meta);
    @Html.Raw(ViewBag.JsObjects);
    @Html.Raw(ViewBag.EbObjectTypes);
</script>

<link rel="stylesheet" href="~/css/MobilePageBuilder/mobile.style.css" asp-append-version=@bApnd />

<environment include="Development">
    <script src="~/js/MobilePageBuilder/mobile.page.js" type="text/javascript" asp-append-version=@bApnd></script>
    <script src="~/js/MobilePageBuilder/mobile.page.controls.js" type="text/javascript" asp-append-version=@bApnd></script>
    <script src="~/js/MobilePageBuilder/mobile.page.controls.extension.js" type="text/javascript" asp-append-version=@bApnd></script>
</environment>
<script src="~/js/EbControls/eb_html.tree.js" type="text/javascript" asp-append-version="@bApnd"></script>
<environment exclude="Development">
    <script src="~/js/Bundles/eb-mobilepage.bundle.js" type="text/javascript"></script>
</environment>

<div class="container-fluid mob_body" id="@("mobviewversion-body"+ViewBag.tabnum)">
    <div class="row">
        <div class="eb_mobpage_wraper" id="@("eb_mobpage_wraper"+ViewBag.tabnum)">
            <div class="eb_mobpage_toolbox" id="@("eb_mobpage_toolbox"+ViewBag.tabnum)">
                <div class="eb_mobpage_toolbox_body">
                    <div class="head">
                        Tools
                    </div>
                    <div class="bdy" id="@("eb_mobpage_toolbox"+ViewBag.tabnum+"_draggable")">
                        <div class="eb_mobpage_tbxcategory" tool-types="*">
                            <div class="eb_mobpage_tbx_head">
                                Containers
                            </div>
                            <div class="eb_mobpage_tbxbdy">
                                <div eb-type="EbMobileForm" ctrname="Form" class="toolitems page-container">
                                    <div class="toolitems-inner">
                                        <i class="fa fa-wpforms"></i> Form
                                    </div>
                                </div>
                                <div eb-type="EbMobileVisualization" ctrname="Visualization" class="toolitems page-container">
                                    <div class="toolitems-inner">
                                        <i class="fa fa-list-alt"></i> Visualization
                                    </div>
                                </div>
                                <div eb-type="EbMobileDashBoard" ctrname="DashBoard" class="toolitems page-container">
                                    <div class="toolitems-inner">
                                        <i class="fa fa-tachometer"></i> DashBoard
                                    </div>
                                </div>
                                <div eb-type="EbMobilePdf" ctrname="Pdf" class="toolitems page-container">
                                    <div class="toolitems-inner">
                                        <i class="fa fa-file-pdf-o"></i> Pdf
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="eb_mobpage_tbxcategory" tool-types="EbMobileForm,EbMobileVisualization">
                            <div class="eb_mobpage_tbx_head">
                                Form Controls / Filter Controls
                            </div>
                            <div class="eb_mobpage_tbxbdy">
                                <div eb-type="EbMobileTextBox" ctrname="TextBox" class="toolitems mform-control">
                                    <div class="toolitems-inner">
                                        <i class="fa fa-i-cursor"></i> TextBox
                                    </div>
                                </div>
                                <div eb-type="EbMobileNumericBox" ctrname="Numeric" class="toolitems mform-control">
                                    <div class="toolitems-inner">
                                        <span style="padding-right: 5px;color: #333333;font-weight: 500;">01</span> Numeric
                                    </div>
                                </div>
                                <div eb-type="EbMobileDateTime" ctrname="DateTime" class="toolitems mform-control">
                                    <div class="toolitems-inner">
                                        <i class="fa fa-calendar"></i> Date Time
                                    </div>
                                </div>
                                <div eb-type="EbMobileSimpleSelect" ctrname="Select" class="toolitems mform-control">
                                    <div class="toolitems-inner">
                                        <i class="fa fa-caret-down"></i> Select
                                    </div>
                                </div>
                                <div eb-type="EbMobileBoolean" ctrname="Boolean" class="toolitems mform-control">
                                    <div class="toolitems-inner">
                                        <i class="fa fa-toggle-on"></i> Boolean
                                    </div>
                                </div>
                                <div eb-type="EbMobileFileUpload" ctrname="FileUpload" class="toolitems mform-control">
                                    <div class="toolitems-inner">
                                        <i class="fa fa-upload"></i> FileUploader
                                    </div>
                                </div>
                                <div eb-type="EbMobileGeoLocation" ctrname="GeoLocation" class="toolitems mform-control">
                                    <div class="toolitems-inner">
                                        <i class="fa fa-map-marker"></i> GeoLocation
                                    </div>
                                </div>
                                <div eb-type="EbMobileDataGrid" ctrname="DataGrid" class="toolitems mform-control">
                                    <div class="toolitems-inner">
                                        <i class="fa fa-table"></i> DataGrid
                                    </div>
                                </div>
                                <div eb-type="EbMobileAutoId" ctrname="AutoId" class="toolitems mform-control">
                                    <div class="toolitems-inner">
                                        <i class="fa fa-key"></i> AutoId
                                    </div>
                                </div>
                                <div eb-type="EbMobileDisplayPicture" ctrname="DisplayPicture" class="toolitems mform-control">
                                    <div class="toolitems-inner">
                                        <i class="fa fa-picture-o"></i> DisplayPicture
                                    </div>
                                </div>
                                <div eb-type="EbMobileQrReader" ctrname="QrReader" class="toolitems mform-control">
                                    <div class="toolitems-inner">
                                        <i class="fa fa-qrcode"></i> Qr Reader
                                    </div>
                                </div>
                                <div eb-type="EbMobileRating" ctrname="Rating" class="toolitems mform-control">
                                    <div class="toolitems-inner">
                                        <i class="fa fa-star-o"></i> Rating
                                    </div>
                                </div> 
                                <div eb-type="EbMobileAudioInput" ctrname="AudioInput" class="toolitems mform-control">
                                    <div class="toolitems-inner">
                                        <i class="fa fa-star-o"></i> Audio Input
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="eb_mobpage_tbxcategory" tool-types="EbMobileVisualization">
                            <div class="eb_mobpage_tbx_head">
                                Visualization Controls
                            </div>
                            <div class="eb_mobpage_tbxbdy">
                                <div eb-type="EbMobileButton" ctrname="Button" class="toolitems mlist-control">
                                    <div class="toolitems-inner">
                                        <i class="fa fa-dot-circle-o"></i> Button
                                    </div>
                                </div>
                            </div>
                            <div class="eb_mobpage_tbxbdy">
                                <div eb-type="EbMobileLabel" ctrname="Label" class="toolitems mlist-control">
                                    <div class="toolitems-inner">
                                        <i class="fa fa-tag"></i> Label
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="eb_mobpage_tbxcategory" tool-types="EbMobileForm,EbMobileDashBoard">
                            <div class="eb_mobpage_tbx_head">
                                Layout
                            </div>
                            <div class="eb_mobpage_tbxbdy">
                                <div eb-type="EbMobileTableLayout" ctrname="TableLayout" class="toolitems mform-control">
                                    <div class="toolitems-inner">
                                        <i class="fa fa-th-large"></i> TableLayout
                                    </div>
                                </div>
                                <div eb-type="EbMobileStackLayout" ctrname="StackLayout" class="toolitems mdash-control">
                                    <div class="toolitems-inner">
                                        <i class="fa fa-th-list"></i> StackLayout
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="eb_mobpage_tbxcategory" tool-types="EbMobileDashBoard">
                            <div class="eb_mobpage_tbx_head">
                                DashBoard Controls
                            </div>
                            <div class="eb_mobpage_tbxbdy">
                                <div eb-type="EbMobileTableView" ctrname="TableView" class="toolitems mdash-control">
                                    <div class="toolitems-inner">
                                        <i class="fa fa-table"></i> Table View
                                    </div>
                                </div>
                            </div> 
                            <div class="eb_mobpage_tbxbdy">
                                <div eb-type="EbMobileLinks" ctrname="MobileLinks" class="toolitems mdash-control">
                                    <div class="toolitems-inner">
                                        <i class="fa fa-external-link-square"></i> Links
                                    </div>
                                </div>
                            </div> 
                            <div class="eb_mobpage_tbxbdy">
                                <div eb-type="EbMobileCharts" ctrname="MobileCharts" class="toolitems mdash-control">
                                    <div class="toolitems-inner">
                                        <i class="fa fa-bar-chart"></i> Charts
                                    </div>
                                </div>
                            </div>  
                            <div class="eb_mobpage_tbxbdy">
                                <div eb-type="EbMobileDataLabel" ctrname="MobileDataLabel" class="toolitems mdash-control">
                                    <div class="toolitems-inner">
                                        <i class="fa fa-tag"></i> Data Label
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="eb_mobpage_pane">
                <div class="eb_mobpage_pane_body">
                    <div class="eb_mobtree_body" style="display:none;" id="@("eb_mobtree_body_"+ViewBag.tabnum)">
                        <div class="eb_mobtree_inner">
                            <ul class="nav nav-tabs eb-styledTab eb_mobtree_body-tabhead">
                                <li class="nav-item active">
                                    <a class="nav-link" data-toggle="tab" role="tab" href="#dstree-tab">
                                        Columns
                                    </a>
                                </li>
                                <li class="nav-item" id="form_controls_tab" style="display:none;">
                                    <a class="nav-link" data-toggle="tab" role="tab" href="#formtree-tab">
                                        Form Controls
                                    </a>
                                </li>
                            </ul>
                            <div class="tab-content eb_mobtree_body-content">
                                <div id="dstree-tab" class="tab-pane h-100 active">
                                    <div class="eb_mobtree_ds">
                                        <ul id="@("ds_parameter_list" + ViewBag.tabnum)" class="tool-box-items">
                                        </ul>
                                    </div>
                                </div>
                                <div id="formtree-tab" class="tab-pane h-100">
                                    <div id="@("form_controls_list" + ViewBag.tabnum)" class="mobtree_f-controls">

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="eb_mobpage_pane_layout" style="display:none;" tabindex="1">
                        <div class="emulator_h_f">
                            <div class="emulator_h" id="@("eb_emulater_title"+ViewBag.tabnum)">
                                Untitled
                            </div>
                            <div class="emulator_f">
                                Save
                            </div>
                        </div>
                        <div class="eb_mobpage_emulatorbody">
                            <div class="eb_mobpage_drparea">
                                <div class="eb_mobpage_drop" id="@("eb_mobpage_pane"+ViewBag.tabnum)">

                                </div>
                            </div>
                        </div>
                        <img src="~/images/walls/emulator.png" class="eb_mobpage_pane_layout_emulator" />
                    </div>
                </div>
            </div>
            <div class="eb_mobpage_properties" id="@("eb_mobpage_property_wrapr"+ViewBag.tabnum)">
                <div class="eb_mobpage_properties_body" id="@("eb_mobpage_properties"+ViewBag.tabnum)">

                </div>
            </div>
        </div>
    </div>
</div>
<script>
    $(document).ready(function () {
         if (@ViewBag.tabnum === 0) {
            var commonO = $("#layout_div").data("commonObj");
         }
        commonO.ObjCollection["#vernav@(ViewBag.tabnum)"] = EB_MobilePage({
            Wc: '@ViewBag.wc',
            TenantId: '@ViewBag.cid',
            RefId: '@ViewBag.Refid',
            Version: '@ViewBag.VersionNumber',
            ObjType: @ViewBag.ObjType,
            DsObj: @Html.Raw(ViewBag.dsObj),
            Status: '@ViewBag.Status',
            TabNum: @ViewBag.tabnum,
            ServiceUrl: '@ViewBag.ServiceUrl'
        });
        $(".eb_mobpage_pane_layout").fadeIn();
    });
</script>