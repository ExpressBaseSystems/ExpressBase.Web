

@using ExpressBase.Objects.ServiceStack_Artifacts;
@using ExpressBase.Common.Structures;

@{
    var bApnd = true;
    if (ViewBag.Env == "Development")
    {
        bApnd = false;
    }
}

<link rel="stylesheet" href="~/css/EbSqlJob/SqlJob.css" asp-append-version=@bApnd>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/dragula/3.7.2/dragula.css">
<script src="~/js/EbSqlJob/SqlJob.js"></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/dragula/3.7.2/dragula.js'></script>
<script src="~/js/ApiBuilder/leader-line.min.js" type="text/javascript" asp-append-version=@bApnd></script>
<script>
     @Html.Raw(ViewBag.Meta);
    @Html.Raw(ViewBag.JsObjects);
    @Html.Raw(ViewBag.EbObjectTypes);

</script>


<div class="Sql-Job-left-pane">
    <div> Resources</div>
    <div id="@("tb" + ViewBag.tabnum + "_SqlJob_drag_cont")">
        <div eb-type="SqlJobReader" ctrname="Data Reader" class="resource_items draggable">
            <div class="resource_items-inner">  <i class="fa fa-database"></i> Data Reader</div>
        </div>
        <div eb-type="SqlJobWriter" ctrname="Data Writer" class="resource_items draggable">
            <div class="resource_items-inner">  <i class="fa fa-database"></i> Data Writer </div>
        </div>
        <div eb-type="SqlProcessor" ctrname="Processor" class="resource_items draggable">
            <div class="resource_items-inner">  <i class="fa fa-code"></i> Processor</div>
        </div>
        <div eb-type="Loop" ctrname="Loop" class="resource_items draggable">
            <div class="resource_items-inner">  <i class="fa fa-code"> </i> Loop</div>
        </div>
        <div eb-type="Transaction" ctrname="Transaction" class="resource_items draggable">
            <div class="resource_items-inner">  <i class="fa fa-code"></i> Transaction</div>
        </div>
        <div eb-type="SqlFormDataPusher" ctrname="Data Pusher" class="resource_items draggable">
            <div class="resource_items-inner">  <i class="fa fa-code"></i> Form Data Pusher</div>
        </div>
    </div>
</div>
<div class="container-fluid">
    <div class="row">
        <div class="col-sm-3"> </div>
        <div class="col-sm-6">
            <div class="Sql-Job-Cont" id="@("tb" + ViewBag.tabnum + "_SqlJob_drop_cont")">

            </div>
        </div>
        <div class="col-sm-3">

        </div>
    </div>

</div>
<div id="@("tb" + ViewBag.tabnum + "_SqlJob_PGgrid")" class="PGgrid ppt-dash"> <div id="@("tb" + ViewBag.tabnum + "_SqlJob_PropGrid")"> </div> </div>


<script>
       if (@ViewBag.tabnum === 0) {
       var commonO = $("#layout_div").data("commonObj");
        }
        commonO.ObjCollection["#vernav@(ViewBag.tabnum)"] = EB_SqlJob_entry({
                RefId: '@ViewBag.Refid',
                Version: '@ViewBag.VersionNumber',
                ObjType: @ViewBag.ObjType,
                sqlJobObj: @Html.Raw(ViewBag.dsObj),
                Status: '@ViewBag.Status',
                TabNum: @ViewBag.tabnum,
                ServiceUrl: '@ViewBag.ServiceUrl',
                Wc: '@ViewBag.wc',
                Cid: '@ViewBag.cid',
                TabNum: @ViewBag.tabnum,
        });

</script>
