
@using ExpressBase.Common.Objects;

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Summernote</title>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/jquery-ui.min.js"></script>

    <link href="http://netdna.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.css" rel="stylesheet">
    <script src="http://netdna.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.js"></script>
    <link href="http://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.8/summernote.css" rel="stylesheet">
    <script src="http://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.8/summernote.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/js/select2.min.js"></script>
    <link rel="stylesheet" type="text/css" href="~/css/Eb_ReportBuilder.css" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/css/select2.min.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/themes/smoothness/jquery-ui.css">
</head>
<body>
@using (Html.BeginForm(FormMethod.Post, new { enctype = "application/x-www-form-urlencoded" }))
{
    <div class="container-fluid">
        <div class="col-md-2" id="colselect" style="height: 500px;overflow-y: auto;">
            @await Component.InvokeAsync("EbObjectSelector", new { Type = (int)EbObjectType.DataSource });
        </div>
        <div class="col-md-10 pull-right">
            <div id="summernote" name="maindiv">

            </div>
        </div>
        <div class="input-group">
            <button class="btn btn-lg btn-primary btn-block" type="submit"><i class="fa fa-sign-in fa-fw"></i>Save</button>
        </div>
    </div>
}
    <script>
        $(document).ready(function () {

            var w = $('.col-md-10').css("width");
        //$('#summernote').summernote();
        $('#summernote').summernote({
            width: w,
            height: 300,                 // set editor height
            minHeight: null,             // set minimum height of editor
            maxHeight: null,             // set maximum height of editor
            focus: true                  // set focus to editable area after initializing summernote
        });
        $('.note-editable').droppable({ accept: ".draggable", drop: onDropFunc.bind(this)});

        function onDropFunc(event, ui) {
            var dropLoc = $(event.target);
            var col = $(ui.draggable);
            dropLoc.append(col.addClass('dropped').css({          
                position: 'relative',
                left: event.clientX - 250 + 'px',
                top: event.clientY - 70 + 'px'
            }));
            $('.dropped').draggable({
                cancel: "a.ui-icon",
                cursor: "move"
            });
        };
        });


    </script>
</body>
</html>