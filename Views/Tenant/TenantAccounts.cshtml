@{
    Layout = "~/Views/Shared/_Layout1.cshtml";
}
<head>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <script src="~/js/jQuery Mask Plugin v1.14.9.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            var navListItems = $('div.setup-panel div a'),
                    allWells = $('.setup-content'),
                    allNextBtn = $('.nextBtn');

            allWells.hide();

            navListItems.click(function (e) {
                e.preventDefault();
                var $target = $($(this).attr('href')),
                        $item = $(this);

                if (!$item.hasClass('disabled')) {
                    navListItems.removeClass('btn-primary').addClass('btn-default');
                    $item.addClass('btn-primary');
                    allWells.hide();
                    $target.show();
                    $target.find('input:eq(0)').focus();
                }
            });

            allNextBtn.click(function () {
                var curStep = $(this).closest(".setup-content"),
                    curStepBtn = curStep.attr("id"),
                    nextStepWizard = $('div.setup-panel div a[href="#' + curStepBtn + '"]').parent().next().children("a"),
                    curInputs = curStep.find("input[type='text'],input[type='url']"),
                    isValid = true;

                $(".form-group").removeClass("has-error");
                for (var i = 0; i < curInputs.length; i++) {
                    if (!curInputs[i].validity.valid) {
                        isValid = false;
                        $(curInputs[i]).closest(".form-group").addClass("has-error");
                    }
                }

                if (isValid)
                    nextStepWizard.removeAttr('disabled').trigger('click');
            });

            $('div.setup-panel div a.btn-primary').trigger('click');

            $('.eb_acc_dbcon_btn').click(function () {
                var ele = $(this).attr("data-accid");
                $('#myModal').modal({
                    backdrop: 'static'
                });
            });

            $('.new').click(function () {
                var ele = $(this).attr("data-accid");
                $('#acid').val(ele);
                $('#new').modal({
                    backdrop: 'static'
                });
            });
            $('.users').click(function () {
                var ele = $(this).attr("data-accid");
                $('#acid').val(ele);
                $('#userModal').modal({
                    backdrop: 'static'
                });
            });

            $('#sip').mask('0ZZ.0ZZ.0ZZ.0ZZ', {
                translation: {
                    'Z': {
                        pattern: /[0-9]/, optional: true
                    }
                }
            });
            $('[data-toggle="tooltip"]').tooltip();


            $('img').click(function () {
                $('.selected').removeClass('selected'); // removes the previous selected class
                $(this).addClass('selected'); // adds the class to the clicked image
            });
            $("#1").click(function () {
                console.log("ssssss");
                $('#free').show();
                $('#prof').hide();
                $('#enter').hide();
                $('#unltd').hide();
            });
            $('#2').click(function () {
                $('#free').hide();
                $('#prof').show();
                $('#enter').hide();
                $('#unltd').hide();
            });
            $('#3').click(function () {
                $('#free').hide();
                $('#prof').hide();
                $('#enter').show();
                $('#unltd').hide();
            });
            $('#4').click(function () {
                $('#free').hide();
                $('#prof').hide();
                $('#enter').hide();
                $('#unltd').show();
            });
        });
        function SetValue(id) {
           
            document.getElementById('tier').value = id;
        }

        function readURL(input) {
            
            if (input.files && input.files[0]) {
                var reader = new FileReader();
                reader.onload = function (e) {
                    var DataCollection = { 'id': $('#tenantid').val(), 'proimg': reader.result };
                    $.post('https://localhost:44377/infra/', { crossDomain: 'true', "ltype": "accountimg", "Colvalues": JSON.stringify(DataCollection), "Token": $.cookie('Token') },
                       function (data) {
                           if (data) {
                               $('#tenantuserid').val(data.id);
                           }
                           else {
                               alert("Hii");
                           }
                       });
                    console.log(reader.result);
                    $('#img')
                   .attr('src', e.target.result)
                   .width(100)
                   .height(100);
                };

                reader.readAsDataURL(input.files[0]);

            }
        }

    </script>
</head>
<div class="container">
    @{
        List<List<object>> list = new List<List<object>>();
        list = ViewBag.dict;

        <form>
            <div class="row">
                <div class="input-group input-group-lg col-md-3">
                    <input type="text" class="form-control" placeholder="Search">
                    <div class="input-group-btn">
                        <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
                    </div>
                </div>
                <div class="col-md-4">
                    <input type="button" class="new btn btn-success" value="+ New Account" />
                </div>
            </div>
        </form>
        foreach (var sublist in list)
        {
            <div class="tenant_account z-depth-2">
               <div class="bs-example">
                        <div class="col-xs-12 col-md-12">
                            <label>@sublist[1]</label> <br />
                            <div>@Html.Raw(sublist[2])</div>
                            <span>
                                <a href="#" data-accid="@sublist[0]" data-toggle="tooltip" title="Configure DB"><i class="btn btn-default fa fa-database fa-2x eb_acc_dbcon_btn" aria-hidden="true"></i></a>
                                <a href="#" data-accid="@sublist[0]" data-toggle="tooltip" title="Settings"><i class="btn btn-default fa fa-cogs fa-2x" aria-hidden="true"></i></a>
                                <a href="#" data-accid="@sublist[0]" data-toggle="tooltip" title="Engineering"><i class="btn btn-default fa fa-wrench fa-2x" aria-hidden="true"></i></a>
                                <a href="#" data-accid="@sublist[0]" data-toggle="tooltip" title="On - Off Maintainance Mode"><i class="btn btn-default fa fa-bed fa-2x" aria-hidden="true"></i></a>
                                <a href="#" data-accid="@sublist[0]" data-toggle="tooltip" title="Organizational Structure"><i class="btn btn-default fa fa-sitemap fa-2x" aria-hidden="true"></i></a>
                                <a href="#" data-accid="@sublist[0]" data-toggle="tooltip" title="Applications"><i class="btn btn-default fa fa-align-right fa-flip-hoizontal fa-2x" aria-hidden="true"></i></a>
                                <a href="#" data-accid="@sublist[0]" data-toggle="tooltip" title="Users"><i class="btn btn-default fa fa-users fa-2x users" aria-hidden="true"></i></a>
                                <a href="#" data-accid="@sublist[0]" data-toggle="tooltip" title="Roles"><i class="btn btn-default fa fa-graduation-cap fa-2x" aria-hidden="true"></i></a>
                                <a href="#" data-accid="@sublist[0]" data-toggle="tooltip" title="Billing"><i class="btn btn-default fa fa-credit-card fa-2x" aria-hidden="true"></i></a>
                                <a href="#" data-accid="@sublist[0]" data-toggle="tooltip" title="Launch Site"><i class="btn btn-default fa fa-external-link fa-2x" aria-hidden="true"></i></a>
                                <a href="#" data-accid="@sublist[0]" data-toggle="tooltip" title="Monitoring"><i class="btn btn-default fa fa-desktop fa-2x" aria-hidden="true"></i></a>
                            </span>
                        </div>

                        <!-- Modal HTML Database -->
                        <div id="myModal" class="modal fade">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                        <h4 class="modal-title">Database Check</h4>
                                    </div>
                                    <div class="modal-body">

                                        @{
                                            if (ViewBag.UId != null)
                                            {
                                                var uID = ViewBag.UId;
                                        <input type="hidden" id="id" name="id" value="@uID" />
                                        <input type="hidden" id="acid" name="acid" />
                                            }

                                        }
                                        <table>
                                            <tr>
                                                <td><div class="tdd">Database Name</div></td>
                                                <td><div class="tdd"><input type="text" class="form-control" id="dbname" name="dbname" required /></div></td>

                                            </tr>
                                            <tr>
                                                <td><div class="tdd">Server IP</div></td>
                                                <td><div class="tdd"><input type="text" class="form-control" id="sip" name="sip" required /></div></td>
                                            </tr>
                                            <tr>
                                                <td><div class="tdd">Port Number</div></td>
                                                <td><div class="tdd"><input type="text" class="form-control" id="pnum" name="pnum" required /></div></td>
                                                <td><span id="result"></span></td>
                                            </tr>
                                            <tr>
                                                <td><div class="tdd">Username</div></td>
                                                <td><div class="tdd"><input type="text" class="form-control" id="duname" name="duname" required /></div></td>
                                                <td><span id="result"></span></td>
                                            </tr>
                                            <tr>
                                                <td><div class="tdd">Password</div></td>
                                                <td><div class="tdd"><input type="password" class="form-control" id="pwd" name="pwd" required /></div></td>
                                                <td><span id="result"></span></td>
                                            </tr>
                                            <tr>
                                                <td><div class="tdd">Time Out</div></td>
                                                <td><div class="tdd"><input type="text" class="form-control" id="tout" name="tout" required /></div></td>
                                                <td><span id="result"></span></td>
                                            </tr>
                                            @*<td>Currently you are using same databese for all file.If you want to add more databases</td>*@
                                        </table>
                                        <div class="modal-footer tds">
                                            <input type="submit" value="Test" class="btn-block btn-primary" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        @if (ViewBag.Message != null)
                        {
                            <script type="text/javascript">
                                window.onload = function () {
                                    alert("@ViewBag.Message");
                                };
                            </script>
                        }

                        <!-- UserModal HTML Invite User -->
                        <div id="userModal" class="modal fade">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                        <h4 class="modal-title">Invite Users</h4>
                                    </div>
                                    <div class="modal-body">
                                        <table>
                                            <tr>
                                                <td><div class="tdd">Email Address</div></td>
                                                <td><div class="tdd"><input type="text" class="form-control" id="email" name="email" required /></div></td>
                                            </tr>
                                            <tr>
                                                <td><div class="tdd">Role</div></td>
                                                <td>
                                                    <select class="tdd form-control" id="role" name="role" required>
                                                        <option value="1">Project Manager/System Admin</option>
                                                        <option value="2">Developer</option>
                                                        <option value="3">Tester</option>
                                                    </select>
                                                </td>
                                            </tr>
                                        </table>
                                        <div class="modal-footer tds">
                                            <input type="submit" value="Invite" class="btn-primary btn-block" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                      
                        <!-- pricing wizard  Modal Add User-->
                        @using (Html.BeginForm(FormMethod.Post, new { enctype = "application/x-www-form-urlencoded" }))
                        {
                            <div id="new" class="modal fade">
                                <div class="modal-dialog">
                                    <div class="modal-content" style="width:100%">
                                        <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                            <h4 class="modal-title">Create Account</h4>
                                        </div>
                                        <div class="modal-body">
                                            <div class="stepwizard col-md-offset-1">
                                                <div class="stepwizard-row setup-panel">
                                                    <div class="stepwizard-step">
                                                        <a href="#step-1" type="button" class="btn btn-primary btn-circle">1</a>
                                                        <p>Step 1</p>
                                                    </div>
                                                    <div class="stepwizard-step">
                                                        <a href="#step-2" type="button" class="btn btn-default btn-circle" disabled="disabled">2</a>
                                                        <p>Step 2</p>
                                                    </div>
                                                    <div class="stepwizard-step">
                                                        <a href="#step-3" type="button" class="btn btn-default btn-circle" disabled="disabled">3</a>
                                                        <p>Step 3</p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row setup-content" id="step-1">
                                                <div class="col-xs-6 col-md-12">
                                                    <div class="col-md-12">
                                                        <h3> Step 1</h3>
                                                        <div class="row">
                                                            <div class="col-xs-1 col-md-3">
                                                                <table>
                                                                    <tr>
                                                                        <td valign="top" class="price col-md-3">
                                                                            <div id="free" hidden>
                                                                                <img src="~/images/CheckMark-24x32.png" /><p>selected</p>
                                                                            </div>
                                                                            <a id="1" href="#" name="1" onclick="SetValue(this.id)">
                                                                                <i class="fa fa-gift fa-5x" aria-hidden="true"></i>
                                                                            </a>

                                                                            <h4>Free</h4>
                                                                            <p>Expressbase Studio free version</p>
                                                                        </td>
                                                                        <td valign="top" class="price col-md-3">
                                                                            <div id="prof" hidden>
                                                                                <img src="~/images/CheckMark-24x32.png" /><p>selected</p>
                                                                            </div>
                                                                            <a href="#" id="2" name="2" onclick="SetValue(this.id)">
                                                                                <i class="fa fa-gift fa-5x" aria-hidden="true"></i>
                                                                            </a>
                                                                            <h4>Professional</h4>
                                                                            <p>Expressbase Studio Professional version</p>
                                                                        </td>
                                                                        <td valign="top" class="price col-md-3">
                                                                            <div id="enter" hidden>
                                                                                <img src="~/images/CheckMark-24x32.png" /><p>selected</p>
                                                                            </div>
                                                                            <a href="#" id="3" onclick="SetValue(this.id)">
                                                                                <i class="fa fa-gift fa-5x" aria-hidden="true"></i>
                                                                            </a>
                                                                            <h4>Enterprise</h4>
                                                                            <p>Expressbase Studio Enterprise version</p>
                                                                        </td>
                                                                        <td valign="top" class="price col-md-3">
                                                                            <div id="unltd" hidden>
                                                                                <img src="~/images/CheckMark-24x32.png" /><p>selected</p>
                                                                            </div>
                                                                            <a href="#" id="4" onclick="SetValue(this.id)">
                                                                                <i class="fa fa-gift fa-5x" aria-hidden="true"></i>
                                                                            </a>
                                                                            <h4>Unlimited</h4>
                                                                            <p>Expressbase Studio Unlimited version</p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr>
                                                                        <td>
                                                                            <input type="hidden" id="tier" name="tier" />
                                                                            <input type="hidden" id="tenantid" name="tenantid" value="@ViewBag.UId" />
                                                                            <input type="hidden" id="tenantuserid" name="tenantuserid" />

                                                                        </td>
                                                                    </tr>
                                                                </table>
                                                            </div>
                                                        </div>
                                                        <button class="btn btn-primary nextBtn btn-lg pull-right" type="button">Next</button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row setup-content" id="step-2">
                                                <div class="col-xs-6 col-md-offset-3">
                                                    <div class="col-md-12">

                                                        <table>
                                                            <tr>
                                                                <td>
                                                                    <div class="tdd">
                                                                        <div class="input-group margin-bottom-sm">
                                                                            <span class="input-group-addon"><i class="fa fa-envelope-o fa-fw"></i></span>
                                                                            <input class="form-control" type="text" id="accountname" name="accountname" placeholder="Account Name" required />

                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <div class="tdd">
                                                                        <div class="input-group">
                                                                            <span class="input-group-addon"><i class="fa fa-key fa-fw"></i></span>
                                                                            <input class="form-control" type="text" id="cid" name="cid" placeholder="Client ID" required>
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td><div class="tdd">Upload Account Logo</div></td>
                                                                <td><div class="tdd"><input type="file" name="alogo" id="files" accept="image/*" onchange="readURL(this)"></div></td>
                                                                <td><img id="img" src="#" alt="your image1" /></td>
                                                            </tr>
                                                        </table>
                                                        <button class="btn btn-primary nextBtn btn-lg pull-right" type="button">Next</button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row setup-content" id="step-3">
                                                <div class="col-xs-6 col-md-offset-3">
                                                    <div class="col-md-12">
                                                        <h3> Step 3</h3>
                                                        <table>
                                                            <tr>
                                                                <td>
                                                                    <div class="tdd">
                                                                        <div class="input-group">
                                                                            <span class="input-group-addon"><i class="fa fa-key fa-fw"></i></span>
                                                                            <input class="form-control" type="text" id="tenantname" name="tenantname" placeholder="Full Name" required>
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            </tr>

                                                            <tr>

                                                                <td>
                                                                    <div class="tdd">
                                                                        <div class="input-group">
                                                                            <span class="input-group-addon"><i class="fa fa-key fa-fw"></i></span>
                                                                            <input class="form-control" type="text" id="address" name="address" placeholder="Address" required>
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            </tr>

                                                            <tr>
                                                                <td>
                                                                    <div class="tdd">
                                                                        <div class="input-group">
                                                                            <span class="input-group-addon"><i class="fa fa-key fa-fw"></i></span>
                                                                            <input class="form-control" type="text" id="phone" name="phone" placeholder="Contact Number" required>
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            </tr>

                                                            <tr>
                                                                <td>
                                                                    <div class="tdd">
                                                                        <div class="input-group">
                                                                            <span class="input-group-addon"><i class="fa fa-key fa-fw"></i></span>
                                                                            <input class="form-control" type="text" id="email" name="email" placeholder="Email" required>
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <div class="tdd">
                                                                        <div class="input-group">
                                                                            <span class="input-group-addon"><i class="fa fa-key fa-fw"></i></span>
                                                                            <input class="form-control" type="text" id="website" name="website" placeholder="Website Address" required>
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                        <button class="btn btn-success btn-lg pull-right" type="submit">Submit</button>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>

                        }
            </div>
                }
               
            </div>
        }
     }
    </div>
            <style>
                .new {
                    float: right;
                    margin-right: 50%;
                }

                .prologo {
                    width: 20%;
                    height: 20%;
                }

                .tdd {
                    margin: 10px;
                    width: 100px;
                }

                .price {
                    width: 10%;
                }

                .tds {
                    margin-top: 50px;
                }

                .tenant_account {
                    width: 50%;
                    background: #fff;
                    border-radius: 2px;
                    display: inline-block;
                    height: 300px;
                    margin: 1rem;
                    position: relative;
                    box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
                    transition: all 0.3s cubic-bezier(.25,.8,.25,1);
                    border-radius: 10px;
                }

                    .tenant_account:hover {
                        box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);
                    }

                .stepwizard-step p {
                    margin-top: 10px;
                }

                .stepwizard-row {
                    display: table-row;
                }

                .stepwizard {
                    display: table;
                    width: 50%;
                    position: relative;
                }

                .stepwizard-step button[disabled] {
                    opacity: 1 !important;
                    filter: alpha(opacity=100) !important;
                }

                .stepwizard-row:before {
                    top: 14px;
                    bottom: 0;
                    position: absolute;
                    content: " ";
                    width: 100%;
                    height: 1px;
                    background-color: #ccc;
                    z-order: 0;
                }

                .stepwizard-step {
                    display: table-cell;
                    text-align: center;
                    position: relative;
                }

                .btn-circle {
                    width: 30px;
                    height: 30px;
                    text-align: center;
                    padding: 6px 0;
                    font-size: 12px;
                    line-height: 1.428571429;
                    border-radius: 15px;
                }

                img {
                    border: solid 0px yellow;
                    margin: 10px;
                    width: 50%;
                    height: 50%;
                }

                .selected {
                    box-shadow: 12px 12px 22px 12px #00ff90;
                }
            </style>
